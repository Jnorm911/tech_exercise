<div class="page">
  <div class="content-wrapper">
  <h1>Stargate Astronaut Career Tracker</h1>

  <!-- Status -->
  <div *ngIf="loading" class="loading">
    Loading...
  </div>

  <div *ngIf="error" class="error">
    {{ error }}
  </div>

  <div *ngIf="success" class="success">
    {{ success }}
  </div>

  <!-- All people -->
  <div *ngIf="people?.length" class="results">
    <div class="content-wrapper">
      <h2>All people</h2>
      <table mat-table [dataSource]="people" class="mat-elevation-z1 full-width-table">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let p">{{ p.name }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="['name']"></tr>
        <tr mat-row *matRowDef="let row; columns: ['name'];"></tr>
      </table>
    </div>
  </div>

  <!-- Manage people -->
  <div class="card">
    <div class="content-wrapper">
    <h2>Manage people</h2>

    <div class="form-row">
      <h3>Add person</h3>
      <input
        id="newPersonName"
        [(ngModel)]="newPersonName"
        placeholder="New person name"
      />
      <button type="button" (click)="createPerson()" [disabled]="saving">
        Add
      </button>
    </div>

    <div class="form-row">
      <h3>Update person name</h3>
      <input
        id="updateCurrentName"
        [(ngModel)]="updateCurrentName"
        placeholder="Current name"
      />
      <input
        id="updateNewName"
        [(ngModel)]="updateNewName"
        placeholder="New name"
      />
      <button type="button" (click)="updatePerson()" [disabled]="saving">
        Update
      </button>
    </div>
    </div>
  </div>
  </div>
</div>